# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

TEP Oncology Academy — a French-language medical education documentation site about PET imaging in oncology. Built with **Docusaurus 3.9.2**, deployed to GitHub Pages.

**Live site:** https://lescientifik.github.io/oncopet_academy/

## Commands

All commands run from `tep-oncology-site/`:

```bash
npm start          # Dev server on localhost:3000 (hot-reload)
npm run build      # Production build (fails on broken links: onBrokenLinks: 'throw')
npm run serve      # Serve production build locally
npm run clear      # Clear Docusaurus cache (.docusaurus/)
```

Dev server helper scripts (from repo root):
```bash
bash .claude/skills/docusaurus/start-dev.sh tep-oncology-site
bash .claude/skills/docusaurus/stop-dev.sh
```

No test or lint tooling is configured.

## Architecture

```
oncopet_academy/
├── tep-oncology-site/          # Docusaurus app (all npm commands run here)
│   ├── docs/                   # Documentation content (Markdown/MDX)
│   │   ├── intro.md            # Landing page (/ redirects to /docs/intro)
│   │   └── cours/              # Course materials
│   ├── blog/                   # Blog posts (YYYY-MM-DD-title.md format)
│   ├── src/
│   │   ├── pages/index.js      # Home page — redirects to /docs/intro
│   │   └── css/custom.css      # Infima theme overrides (green healthcare palette)
│   ├── static/img/             # Static assets
│   ├── docusaurus.config.js    # Site config (metadata, navbar, footer, i18n: fr)
│   └── sidebars.js             # Auto-generated from docs/ folder structure
└── .github/workflows/deploy.yml  # CI: builds & deploys on push to main
```

**Key architectural decisions:**
- Sidebar navigation is **auto-generated** from the `docs/` directory structure (`type: 'autogenerated'` in sidebars.js)
- Home page (`src/pages/index.js`) is a **redirect to `/docs/intro`**, not a custom landing page
- Locale is **French only** (`i18n.defaultLocale: 'fr'`)
- Uses `future.v4: true` flag for Docusaurus v4 forward-compatibility
- `baseUrl: '/oncopet_academy/'` — required for GitHub Pages project site hosting

## Content Authoring

- Documentation pages go in `tep-oncology-site/docs/` with Markdown frontmatter
- Blog posts go in `tep-oncology-site/blog/` with author/tag metadata (defined in `authors.yml` and `tags.yml`)
- Admonitions supported: `:::info`, `:::tip`, `:::warning`, `:::danger`
- MDX is supported for embedding React components in Markdown

## Deployment

GitHub Actions workflow (`.github/workflows/deploy.yml`) triggers on:
- Push to `main` that modifies files in `tep-oncology-site/`
- Manual workflow dispatch

Pipeline: checkout → Node 20 → `npm ci` → `npm run build` → deploy to GitHub Pages
